<!DOCTYPE html>
<html>
  <head>
    <title>demo for mocro javascript template</title>
  </head>
  <body>
    <script src="stringbuffer.js"></script>
    <script src="tpl.js"></script>
    <script id="tpl" type="text/tpl">
      <!-- replace by Variables or expressions -->
      <h1>
        {{title}}
      </h1>
      <b>{{ encodeURIComponent(title)}}</b>

      <!-- just using plain javascript code, example for conditional and loops -->
      {% if (messages) { %}
        {% messages.forEach(function(message){ %}
          <p>{{message}}</p>
        {% })%}
        <!-- loops in another way -->
        {% for (var i in messages){ %}
          <p>{{messages[i]}}</p>
        {% }%}
      {% } %}

      <!-- set Variables -->
      {% var testval = 'set var in template.' %}{{ testval }}

    </script>
    <script>
      var template = new tplite.Template(), tmpl = document.getElementById('tpl').innerHTML,
          logger = function(s){ console.log(s) }, writer = function(s) {document.write(s)}, out = new tplite.StringBuffer()
          data = {title: 'Demo for mocro javascript template!', messages: ['test demo 1', 'test demo2']}
      var compile = template(tmpl)
      //logger(compile)
      compile(data, logger)
      compile(data, writer)
      compile(data, out)
      logger(out.toString())
    </script>
  </body>
</html>

