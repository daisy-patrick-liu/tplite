(function(a){function d(g,f,e){return g instanceof Function&&g.apply(f,e)}var b={};a.Event=function(g,f,e){if(g instanceof Event){var h=b[e];return h&&d(h[f],h,[g])}else{e=g._index;if(e){b[e]=g;return{bind:function(j,i){g[j]=i;return"tplite.Event(event, "+j+", "+e+")"},remove:function(){Object.keys(g).map(function(i){if(i>0){delete g[i]}})}}}}};var c=0;a.Component=function(p,l,f,o){var j=++c;var m=false;var r=new a.Template();var s=r(p);var q={state:f,render:g,mount:n,setState:i,trigger:h,root:o,_index:j};var k=a.Event(q);function h(t){var e=[].slice.call(arguments,1);return !l[t]||d(l[t],q,e)}function i(e){q.state=f=Object.assign({},f||{},e||{});if(o&&f&&h("shouldUpdate")){k.remove();g();requestAnimationFrame(function(){h("onUpdate");if(!m){h("onMount");m=true}})}return q}function g(){var e=new a.StringBuffer();s(f,e);if(o){return o.innerHTML=e.toString()}return e.toString()}function n(e){o=e;i();return q}i({bind:function(t){var e=[].slice.call(arguments,1);return k.bind(++c,function(u){return d(l[t],q,e.concat(u))})}});h("onInit");return q}}(typeof exports==="undefined"?this.tplite||(this.tplite={}):exports));