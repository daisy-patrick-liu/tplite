(function(a){a.Template=function(){var d={},c={"\\":"\\\\","\n":"\\n","\r":"\\r","{{":"');cb(","}}":");cb('","{%":"');","%}":"\ncb('"};return function(g,h,f){d[g=g||""]=d[g]||new Function("_","cb","with(_){"+("%}"+g+"{%").replace(/([\\\n\r]|{{|}}|{%|%})/g,function(e){return c[e]})+"}return cb");try{return h?d[g](h,f):d[g]}catch(i){return i}}};a.StringBuffer=function(){var c=[],d=function(e){c.push(e)};d.toString=function(){return c.join("")};return d};var b=0;a.Component=function(i,j,c,h){var g=++b;var l=new tplite.Template();var m=l(j);var k={state:c,render:d,setState:f,trigger:e,root:i,index:g};function e(o){var n=[].slice.call(arguments,1);return !h[o]||(typeof h[o]=="function"&&h[o].apply(k,n))}function f(n){c=Object.assign({},c||{},n||{});if(e("shouldUpdate")){Object.keys(a).filter(function(o){return o.indexOf("_"+g+"_")!=-1}).map(function(o){delete a[o]});d();requestAnimationFrame(function(){e("onUpdate")})}return c}function d(){var n=new tplite.StringBuffer();m(c,n);if(i){return i.innerHTML=n.toString()}return n.toString()}f({bind:function(o){var p=Math.random().toString().replace("0.","_"+g+"_");var n=[].slice.call(arguments,1);a[p]=function(q){return typeof h[o]=="function"&&h[o].apply(k,n.concat(q))};return"tplite."+p+"(event)"}});e("onInit");return k}}(typeof exports==="undefined"?this.tplite||(this.tplite={}):exports));